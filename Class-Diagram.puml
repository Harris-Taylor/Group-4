@startuml
title Use Case Diagram - Global Population Analysis System

actor "Data Analyst" as Analyst
actor "SQL Database" as DB

rectangle "Population Analysis System" as System {
    usecase "Retrieve Country Data" as UC1
    usecase "Sort Data by Population" as UC2
    usecase "Display Global Population Report" as UC3
    usecase "Retrieve Language Statistics" as UC4
    usecase "Generate Country Report" as UC5
    usecase "Generate City Report" as UC6
    usecase "Analyse Data" as UC7
}

'--- Data Analyst interactions ---
Analyst --> UC1 : "Request Data"
Analyst --> UC3 : "View Global Report"
Analyst --> UC4 : "Request Chinese Speakers Report"
Analyst --> UC5 : "Request Country Report"
Analyst --> UC6 : "Request City Report"
Analyst --> UC7 : "Analyse Data"

'--- System internal flow ---
UC1 --> UC2 : "Send Data for Sorting"
UC2 --> UC3 : "Sorted by Population"
UC3 --> UC7
UC4 --> UC7
UC5 --> UC7
UC6 --> UC7

'--- Bi-directional SQL data exchange ---
UC1 <--> DB : "Query / Return Country Records"
UC4 <--> DB : "Query / Return Language Data"
UC5 <--> DB : "Query / Return Country Details"
UC6 <--> DB : "Query / Return City Details"

@enduml
